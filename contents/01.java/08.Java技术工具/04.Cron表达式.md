# Cron表达式
::: tip
本文主要对Cron表达式进行总结。@Frank Zhao
:::
## 本章目录
[[toc]]
## 概述
Cron表达式是一个字符串，字符串以5或6个空格隔开，分为6或7个域，每一个域代表一个含义
::: warning
* Cron表达式的最后一位是年，是可选的，所以会造成5位和6位的区别
   * 支持年的Java技术，Cron表达式就是6位的，如 Java Quartz
   * 不支持年的Java技术，Cron表达式就是5位的，如 Java Spring
:::
## 语法
``` js
秒   分   时   日   月   周    年【可选】
*    *    *    *    *    *    *
-    -    -    -    -    -    -
|    |    |    |    |    |    |
|    |    |    |    |    |    + year (1970 - 2099) [可选]
|    |    |    |    |    +----- day of week (1 - 7 的整数或者 SUN-SAT （1=SUN）)
|    |    |    |    +---------- month (1 - 12 的整数或者 JAN-DEC)
|    |    |    +--------------- day of month (1 - 31 的整数)
|    |    +-------------------- hour (0 - 23 的整数)
|    +------------------------- min (0 - 59 的整数)
+------------------------------ second (0 - 59 的整数)
```
## 通配符
| 符号 | 说明 |
|:-:|-|
| <b>*</b> | 表示匹配该域的任意值。<br>&nbsp;&nbsp;&nbsp;&nbsp;例如在【分】域使用 * , 即表示每分钟都会触发事件。<br> ※ 【日】和【周】两个域不能同时为 * |
| <b>?</b> | 只能用在【日】和【周】两个域，表示匹配该域的任意值。<br>虽然 * 和 ? 都表示任意值，但是区别还是很大的<br>&nbsp;&nbsp;&nbsp;&nbsp;* 表示强势任意值，不管怎么都会执行<br>&nbsp;&nbsp;&nbsp;&nbsp;? 会去优先考虑【日】和【周】两个域中的实际数值，起到占位作用<br> 比如：crontab="0 0 0 15 * ?"，这个表达式的含义是每个月的15号0时0分0秒执行，并不是每个星期都执行。<br>再比如：crontab="0 20 8 ? * 7", 这个表达式的含义时每个月星期六的8:20执行，并不是每个月的每天都执行。|
| <b>-</b> | 表示范围。<br>&nbsp;&nbsp;&nbsp;&nbsp;例如在【分】域使用5-20，表示从5分到20分钟每分钟触发一次  |
| <b>/</b> | 表示起始时间开始触发，然后每隔固定时间触发一次。（用于指定数值的增量）<br>&nbsp;&nbsp;&nbsp;&nbsp;例如在【分】域使用5/20,则意味着5分钟触发一次，而25，45等分别触发一次.  |
| <b>,</b> | 表示列出枚举值。<br>&nbsp;&nbsp;&nbsp;&nbsp;例如：在【分】域使用5,20，则意味着在5和20分每分钟触发一次。  |
| <b>L</b> | 表示最后，只能出现在【日】和【周】域。<br>&nbsp;&nbsp;&nbsp;&nbsp;如果在【周】域使用5L，意味着在最后的一个星期四触发。  |
| <b>W</b> | 表示有效工作日(周一到周五)，只能出现在【日】域，系统将在离指定日期的最近的有效工作日触发事件。<br>&nbsp;&nbsp;&nbsp;&nbsp;例如：在【日】使用5W，如果5日是星期六，则将在最近的工作日：星期五，即4日触发。<br>&nbsp;&nbsp;&nbsp;&nbsp;如果5日是星期天，则在6日(周一)触发；<br>&nbsp;&nbsp;&nbsp;&nbsp;如果5日在星期一到星期五中的一天，则就在5日触发。<br>&nbsp;&nbsp;&nbsp;&nbsp;另外一点，W的最近寻找不会跨过月份 。 |
| <b>LW</b> | 这两个字符可以连用，表示在某个月最后一个工作日，即最后一个星期五。 |
| <b>#</b> | 用于确定每个月第几个星期几，只能出现在【周】域。<br>&nbsp;&nbsp;&nbsp;&nbsp;例如在4#2，表示某月的第二个星期三。 |
## 常用表达式
* 0 0 2 1 * ? * &nbsp;&nbsp;&nbsp;&nbsp; -> &nbsp;&nbsp;&nbsp;&nbsp; 表示在每月的1日的凌晨2点执行任务
* 0 15 10 ? * MON-FRI &nbsp;&nbsp;&nbsp;&nbsp; -> &nbsp;&nbsp;&nbsp;&nbsp; 表示周一到周五每天上午10:15执行任务
* 0 15 10 ? * 6L 2002-2006 &nbsp;&nbsp;&nbsp;&nbsp; -> &nbsp;&nbsp;&nbsp;&nbsp; 表示2002-2006年的每个月的最后一个星期五上午10:15执行任务
* 0 0 10,14,16 * * ? &nbsp;&nbsp;&nbsp;&nbsp; -> &nbsp;&nbsp;&nbsp;&nbsp; 每天上午10点，下午2点，4点
* 0 0/30 9-17 * * ? &nbsp;&nbsp;&nbsp;&nbsp; -> &nbsp;&nbsp;&nbsp;&nbsp; 朝九晚五工作时间内每半小时
* 0 0/5 14 * * ? &nbsp;&nbsp;&nbsp;&nbsp; -> &nbsp;&nbsp;&nbsp;&nbsp; 在每天下午2点到下午2:55期间的每5分钟触发
* 0 0-5 14 * * ? &nbsp;&nbsp;&nbsp;&nbsp; -> &nbsp;&nbsp;&nbsp;&nbsp; 在每天下午2点到下午2:05期间的每1分钟触发
* 0 15 10 ? * 6#3 &nbsp;&nbsp;&nbsp;&nbsp; -> &nbsp;&nbsp;&nbsp;&nbsp; 每月的第三个星期五上午10:15触发