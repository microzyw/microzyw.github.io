# 扩展
::: tip
本文主要对Java的SPI机制进行总结。@Frank Zhao
:::
## 本章目录
[[toc]]
## SPI机制概述
SPI（Service Provider Interface），是JDK内置的一种 服务提供发现机制，可以用来启用框架扩展和替换组件<br>
Java中SPI机制主要思想是将装配的控制权移到程序之外，在模块化设计中这个机制尤其重要，其核心思想就是 解耦。<br>
主要是被框架的开发人员使用，比如java.sql.Driver接口，其他不同厂商可以针对同一接口做出不同的实现，<br>
&nbsp;&nbsp;&nbsp;&nbsp;MySQL和PostgreSQL都有不同的实现提供给用户，<br>
&nbsp;&nbsp;&nbsp;&nbsp;而Java的SPI机制可以为某个接口寻找服务实现。<br>
常见的 SPI 有 JDBC、日志门面接口、Spring、SpringBoot相关starter组件、Dubbo、JNDI等。<br><br>
SPI整体机制图如下：<br><br>
<img src="/images/java/java-advanced-spi-8.jpg" width="60%" height="60%" />
<br><br>

## 开发SPI机制
1. 定义服务接口
2. 用方式一实现该服务接口
3. 用方式二实现该服务接口
4. 在classpath下的META-INF/services/目录里创建一个以服务接口命名的文件，内容就是写明这个接口的具体的实现类。
5. 使用该服务时，利用JDK提供的java.util.ServiceLoader就可以查找到该服务接口的实现类
::: details 代码实例解析
以下是一个多态实例的演示，详细说明请看注释：<br>
``` java
```
:::
